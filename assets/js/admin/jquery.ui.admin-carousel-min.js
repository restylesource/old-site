(function(e){e.fn.extend({adminCarousel:function(t){var n={width:650,height:900,resize:!1,modal:!0,title:!1,dialogClass:"adminAjax",position:"center center",buttonPosition:"left bottom",buttonText:"Edit",buttonOffset:"0 0",editType:"image-carousel"},t=e.extend(n,t);return this.each(function(n){var r=t,i=e(this),s=e("<a />",{"class":"button-admin "+r.buttonPosition}).attr({href:"ajax-retailer-postings1.html"}).css({margin:r.buttonOffset}).text(r.buttonText).appendTo(i);if(typeof source_id!="undefined")var o="source_id="+source_id;else if(typeof page_id!="undefined")var o="id="+page_id;var u="ajax/ajax-admin-edit-"+r.editType+".php?"+o;s.click(function(t){e.attrFn&&(e.attrFn.text=!0);var n=e('<div style="display:none" class="loading"></div>').appendTo("body"),i=e('<div class="ajax-content-wrapper"></div>').appendTo(n);n.dialog({width:r.width,height:r.height,resize:r.resize,modal:r.modal,title:r.title,dialogClass:"adminAjax "+r.dialogClass,position:r.position,buttons:{Update:{text:"Update","class":"button primary",click:function(){e("#upload").submit()}},Cancel:{text:"Cancel","class":"button cancel",click:function(){e(this).dialog("close");n.remove()}}}});i.load(u+"&image_id="+s.parent().find("a").attr("data-image-nbr"),{},function(t,r,i){n.removeClass("loading");e("#image_id").val(s.parent().find("a").attr("data-image-nbr"));n.dialog("option","position",["center","center"])});e("body").delegate(".cancel","click",function(){e(this).closest(n).dialog("close")});t.preventDefault()});var a=e("<a />",{"class":"button-admin delete-image"}).attr({href:"#"}).text("Delete image").appendTo(i);a.click(function(t){e(this).parents(".scroll-item").find("img").fadeOut(500);var n=e(this).parents(".scroll-item").find("a").attr("data-image-nbr"),r=e(this).parents(".scroll-item").find("img");e.ajax({type:"POST",dataType:"json",url:"ajax.php",data:{f:"source_image_delete",id:source_id,delete_img_nbr:n},dataType:"json",success:function(e){e.status=="1"?r.fadeOut(500):alert("Error: "+e.status)}});t.preventDefault()})})}})})(jQuery);