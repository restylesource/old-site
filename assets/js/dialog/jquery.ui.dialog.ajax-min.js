(function(e){e.fn.extend({dialogAjax:function(t){var n={width:650,height:"auto",resize:!1,modal:!0,title:!1,dialogClass:"",position:"center center",maxHeight:900,largeModal:!0,buttons:{Update:{text:"Update","class":"button primary",click:function(){e(this).dialog("close");dialog.remove()}},Cancel:{text:"Cancel","class":"button cancel",click:function(){e(this).dialog("close");dialog.remove()}}}},t=e.extend(n,t);return this.each(function(n){var r=t,i=e(this),s=this.href;e(i).click(function(t){var n=e('<div style="display:none" class="loading"></div>').hide().appendTo("body"),i=e('<div class="ajax-content-wrapper"></div>').appendTo(n);loadingIndicator=e('<div class="ajax-loading-indicator"></div>').appendTo(n).hide();n.dialog({width:r.width,height:r.height,resize:r.resize,modal:r.modal,title:r.title,dialogClass:"dialogAjax "+r.dialogClass,position:r.position,buttons:r.buttons,close:function(e,t){n.remove()}}).css({maxHeight:r.maxHeight});n.dialog("option","position",["center","center"]);i.load(s,{},function(t,r,i){n.removeClass("loading");var s=n.parents(".ui-dialog");s.height()>e(window).height()&&n.height(e(window).height()*.7);n.dialog("option","position",["center","center"])});t.preventDefault();e(window).resize(function(){var t=n.parents(".ui-dialog");t.height()>e(window).height()&&n.height(e(window).height()*.7);n.dialog("option","position",["center","center"])})})})}})})(jQuery);